{% load static %}{% load static %}{% load static %}

<!DOCTYPE html>

<html lang="pt-br"><!DOCTYPE html><!DOCTYPE html>

<head>

    <meta charset="UTF-8"><html lang="pt-br"><html lang="pt-br">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Agenda - Sistema Pulse</title><head><head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">    <meta charset="UTF-8">    <meta charset="UTF-8">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link href="{% static 'css/pulse_theme.css' %}" rel="stylesheet">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="{% static 'css/dr_pulse_avatar.css' %}" rel="stylesheet">

    <link href="{% static 'css/dashboard_advanced.css' %}" rel="stylesheet">    <title>Agenda - Sistema Pulse</title>    <title>Agenda - Sistema Pulse</title>

    <link href="{% static 'css/dashboard_improved.css' %}" rel="stylesheet">

    <link href="{% static 'css/components_enhanced.css' %}" rel="stylesheet">    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link href="{% static 'css/layout_fixes.css' %}" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

</head>

<body>    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Container Principal -->

    <div class="main-container">    <link href="{% static 'css/pulse_theme.css' %}" rel="stylesheet">    <link href="{% static 'css/pulse_theme.css' %}" rel="stylesheet">

        <!-- Sidebar -->

        <div class="sidebar">    <link href="{% static 'css/dr_pulse_avatar.css' %}" rel="stylesheet">    <style>

            <div class="sidebar-header">

                <a href="#" class="sidebar-brand">    <link href="{% static 'css/dashboard_advanced.css' %}" rel="stylesheet">        body {

                    <i class="fas fa-heartbeat"></i>

                    Pulse    <link href="{% static 'css/dashboard_improved.css' %}" rel="stylesheet">            font-family: var(--pulse-font-family);

                </a>

            </div>    <link href="{% static 'css/components_enhanced.css' %}" rel="stylesheet">            background-color: var(--pulse-light);

        

        <ul class="sidebar-menu">    <link href="{% static 'css/layout_fixes.css' %}" rel="stylesheet">            color: var(--pulse-dark-gray);

            <li><a href="{% url 'core:consultorio_dashboard' %}">

                <i class="fas fa-home"></i>     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>        }

                <span>Início</span>

            </a></li></head>

            <li><a href="{% url 'core:consultorio_pacientes' %}">

                <i class="fas fa-users"></i> <body>        .header {

                <span>Pacientes</span>

            </a></li>    <!-- Container Principal -->            background: var(--pulse-gradient-primary);

            <li><a href="{% url 'core:consultorio_agenda' %}" class="active">

                <i class="fas fa-calendar-alt"></i>     <div class="main-container">            color: var(--pulse-white);

                <span>Agenda</span>

                <div class="nav-indicator"></div>        <!-- Sidebar -->            padding: 30px 0;

            </a></li>

            <li><a href="{% url 'core:consultorio_financeiro' %}">        <div class="sidebar">            margin-bottom: 30px;

                <i class="fas fa-dollar-sign"></i> 

                <span>Financeiro</span>            <div class="sidebar-header">            box-shadow: var(--pulse-shadow-md);

            </a></li>

            <li><a href="/admin/">                <a href="#" class="sidebar-brand">        }

                <i class="fas fa-cog"></i> 

                <span>Administração</span>                    <i class="fas fa-heartbeat"></i>

            </a></li>

        </ul>                    Pulse        .agenda-card {

        </div>

                </a>            background: var(--pulse-white);

        <!-- Content Wrapper -->

        <div class="content-wrapper">            </div>            border-radius: var(--pulse-border-radius);

            <!-- Header -->

            <header class="main-header">                    padding: 20px;

                <div class="header-title">

                    <i class="fas fa-calendar-alt"></i>        <ul class="sidebar-menu">            margin-bottom: 20px;

                    Agenda Médica

                </div>            <li><a href="{% url 'core:consultorio_dashboard' %}">            box-shadow: var(--pulse-shadow-md);

                <div class="header-user">

                    <span>Dr. Pulse</span>                <i class="fas fa-home"></i>             border-left: 4px solid var(--pulse-primary);

                    <div class="dr-pulse-avatar" title="Dr. Pulse - Seu médico especialista">

                        <i class="fas fa-user-md"></i>                <span>Início</span>            transition: all 0.3s ease;

                    </div>

                </div>            </a></li>        }

            </header>

            <li><a href="{% url 'core:consultorio_pacientes' %}">

            <!-- Toggle Modo Escuro Centralizado -->

            <button id="darkModeToggle" class="dark-mode-toggle" title="Alternar entre modo claro e escuro">                <i class="fas fa-users"></i>         .agenda-card:hover {

                <i class="fas fa-moon"></i>

                <span>Modo Escuro</span>                <span>Pacientes</span>            transform: translateY(-2px);

            </button>

            </a></li>            box-shadow: var(--pulse-shadow-lg);

            <!-- Main Content -->

            <main class="main-content">            <li><a href="{% url 'core:consultorio_agenda' %}" class="active">        }

                <!-- Perfil Dr. Pulse Expandido -->

                <div class="doctor-profile fade-in-up">                <i class="fas fa-calendar-alt"></i> 

                    <div class="doctor-info">

                        <div class="doctor-avatar-large">                <span>Agenda</span>        .status-badge {

                            <i class="fas fa-user-md"></i>

                        </div>                <div class="nav-indicator"></div>            padding: 6px 12px;

                        <div class="doctor-details">

                            <h2>Dr. Pulse</h2>            </a></li>            border-radius: 20px;

                            <p>Sistema Médico Especializado</p>

                            <div class="doctor-quote">            <li><a href="{% url 'core:consultorio_financeiro' %}">            font-size: 12px;

                                "Organizando sua agenda com precisão e eficiência."

                            </div>                <i class="fas fa-dollar-sign"></i>             font-weight: 600;

                        </div>

                    </div>                <span>Financeiro</span>        }

                </div>

            </a></li>

                <!-- Título da Página -->

                <h1 class="page-title">            <li><a href="/admin/">        .status-confirmado {

                    <i class="fas fa-calendar-alt"></i> Agenda Médica

                </h1>                <i class="fas fa-cog"></i>             background: var(--pulse-gradient-success);



                <!-- Stats da Agenda -->                <span>Administração</span>            color: var(--pulse-white);

                <div class="stats-grid">

                    <div class="stat-card">            </a></li>        }

                        <div class="stat-icon purple">

                            <i class="fas fa-calendar-day"></i>        </ul>

                        </div>

                        <div class="stat-number">8</div>        </div>        .status-pendente {

                        <div class="stat-label">Consultas Hoje</div>

                    </div>            background: var(--pulse-gradient-warning);

                    

                    <div class="stat-card success">        <!-- Content Wrapper -->            color: var(--pulse-white);

                        <div class="stat-icon green">

                            <i class="fas fa-calendar-check"></i>        <div class="content-wrapper">        }

                        </div>

                        <div class="stat-number">24</div>            <!-- Header -->

                        <div class="stat-label">Esta Semana</div>

                    </div>            <header class="main-header">        .status-cancelado {

                    

                    <div class="stat-card warning">                <div class="header-title">            background: var(--pulse-gradient-danger);

                        <div class="stat-icon orange">

                            <i class="fas fa-clock"></i>                    <i class="fas fa-calendar-alt"></i>            color: var(--pulse-white);

                        </div>

                        <div class="stat-number">3</div>                    Agenda Médica        }

                        <div class="stat-label">Pendentes</div>

                    </div>                </div>

                </div>

                <div class="header-user">        .btn-back {

                <!-- Botões de Ação -->

                <div class="quick-actions" style="margin-bottom: 30px;">                    <span>Dr. Pulse</span>            background: var(--pulse-gradient-success);

                    <a href="/admin/core/agendamento/add/" class="action-btn success">

                        <i class="fas fa-calendar-plus"></i> Novo Agendamento                    <div class="dr-pulse-avatar" title="Dr. Pulse - Seu médico especialista">            border: none;

                    </a>

                    <a href="/admin/core/agendamento/" class="action-btn purple">                        <i class="fas fa-user-md"></i>            color: var(--pulse-white);

                        <i class="fas fa-list"></i> Gerenciar Agenda

                    </a>                    </div>            padding: 10px 20px;

                    <a href="#" class="action-btn warning">

                        <i class="fas fa-print"></i> Imprimir Agenda                </div>            border-radius: var(--pulse-border-radius-sm);

                    </a>

                </div>            </header>            text-decoration: none;



                <!-- Lista de Agendamentos -->            display: inline-flex;

                <div class="info-grid">

                    <div class="info-card">            <!-- Toggle Modo Escuro Centralizado -->            align-items: center;

                        <h3 class="info-title">

                            <i class="fas fa-calendar-day"></i> Agenda de Hoje - 20/10/2025            <button id="darkModeToggle" class="dark-mode-toggle" title="Alternar entre modo claro e escuro">            gap: 8px;

                        </h3>

                        <div class="patient-item">                <i class="fas fa-moon"></i>            font-weight: 500;

                            <div class="patient-avatar">08:00</div>

                            <div class="patient-info">                <span>Modo Escuro</span>            transition: all 0.3s ease;

                                <div class="patient-name">Maria Silva</div>

                                <div class="patient-details">Consulta de Rotina - Confirmado</div>            </button>        }

                            </div>

                        </div>

                        <div class="patient-item">

                            <div class="patient-avatar">09:30</div>            <!-- Main Content -->        .btn-back:hover {

                            <div class="patient-info">

                                <div class="patient-name">João Santos</div>            <main class="main-content">            color: var(--pulse-white);

                                <div class="patient-details">Retorno - Confirmado</div>

                            </div>                <!-- Perfil Dr. Pulse Expandido -->            transform: translateY(-2px);

                        </div>

                        <div class="patient-item">                <div class="doctor-profile fade-in-up">            box-shadow: var(--pulse-shadow-md);

                            <div class="patient-avatar">11:00</div>

                            <div class="patient-info">                    <div class="doctor-info">        }

                                <div class="patient-name">Ana Pereira</div>

                                <div class="patient-details">Exame Preventivo - Pendente</div>                        <div class="doctor-avatar-large">

                            </div>

                        </div>                            <i class="fas fa-user-md"></i>        .text-primary {

                        <div class="patient-item">

                            <div class="patient-avatar">14:00</div>                        </div>            color: var(--pulse-primary) !important;

                            <div class="patient-info">

                                <div class="patient-name">Carlos Ferreira</div>                        <div class="doctor-details">        }

                                <div class="patient-details">Consulta Especializada - Confirmado</div>

                            </div>                            <h2>Dr. Pulse</h2>    </style>

                        </div>

                        <div class="patient-item">                            <p>Sistema Médico Especializado</p></head>

                            <div class="patient-avatar">15:30</div>

                            <div class="patient-info">                            <div class="doctor-quote"><body>

                                <div class="patient-name">Luiza Martins</div>

                                <div class="patient-details">Retorno - Pendente</div>                                "Organizando sua agenda com precisão e eficiência."    <div class="header">

                            </div>

                        </div>                            </div>        <div class="container">

                    </div>

                        </div>            <div class="d-flex justify-content-between align-items-center">

                    <div class="info-card">

                        <h3 class="info-title">                    </div>                <h1><i class="fas fa-calendar-alt"></i> Agenda da Semana</h1>

                            <i class="fas fa-bell"></i> Próximos Agendamentos

                        </h3>                </div>                <a href="{% url 'core:consultorio_dashboard' %}" class="btn-back">

                        <div class="patient-item">

                            <div class="patient-avatar">21/10</div>                    <i class="fas fa-arrow-left"></i> Voltar ao Dashboard

                            <div class="patient-info">

                                <div class="patient-name">Roberto Silva</div>                <!-- Título da Página -->                </a>

                                <div class="patient-details">09:00 - Consulta Inicial</div>

                            </div>                <h1 class="page-title">            </div>

                        </div>

                        <div class="patient-item">                    <i class="fas fa-calendar-alt"></i> Agenda Médica        </div>

                            <div class="patient-avatar">21/10</div>

                            <div class="patient-info">                </h1>    </div>

                                <div class="patient-name">Teresa Freitas</div>

                                <div class="patient-details">14:30 - Retorno</div>

                            </div>

                        </div>                <!-- Stats da Agenda -->    <div class="container">

                        <div class="patient-item">

                            <div class="patient-avatar">22/10</div>                <div class="stats-grid">        <div class="row">

                            <div class="patient-info">

                                <div class="patient-name">Paulo Mendes</div>                    <div class="stat-card">            <div class="col-12">

                                <div class="patient-details">10:00 - Exame</div>

                            </div>                        <div class="stat-icon purple">                {% for agendamento in agendamentos %}

                        </div>

                        <div class="text-muted" style="text-align: center; padding: 20px;">                            <i class="fas fa-calendar-day"></i>                <div class="agenda-card">

                            <i class="fas fa-calendar-alt"></i> Mantenha sua agenda organizada!

                        </div>                        </div>                    <div class="row align-items-center">

                    </div>

                </div>                        <div class="stat-number">8</div>                        <div class="col-md-2">



                <!-- Ações Rápidas Adicionais -->                        <div class="stat-label">Consultas Hoje</div>                            <div class="text-center">

                <div class="quick-actions">

                    <a href="#" class="action-btn">                    </div>                                <div class="h4 text-primary mb-0">{{ agendamento.data_hora|date:"d" }}</div>

                        <i class="fas fa-search"></i> Buscar Agendamento

                    </a>                                                    <small class="text-muted">{{ agendamento.data_hora|date:"M" }}</small>

                    <a href="#" class="action-btn success">

                        <i class="fas fa-check-circle"></i> Confirmar Consultas                    <div class="stat-card success">                            </div>

                    </a>

                    <a href="#" class="action-btn warning">                        <div class="stat-icon green">                        </div>

                        <i class="fas fa-chart-bar"></i> Relatório Semanal

                    </a>                            <i class="fas fa-calendar-check"></i>                        <div class="col-md-2">

                </div>

            </main>                        </div>                            <strong class="text-primary">{{ agendamento.data_hora|time:"H:i" }}</strong>

        </div>

    </div>                        <div class="stat-number">24</div>                        </div>



    <!-- Scripts -->                        <div class="stat-label">Esta Semana</div>                        <div class="col-md-3">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="{% static 'js/dashboard_advanced.js' %}"></script>                    </div>                            <h6 class="mb-1">{{ agendamento.paciente.get_full_name|default:agendamento.paciente.username }}</h6>

</body>

</html>                                                <small class="text-muted">{{ agendamento.servico.nome }}</small>

                    <div class="stat-card warning">                        </div>

                        <div class="stat-icon orange">                        <div class="col-md-3">

                            <i class="fas fa-clock"></i>                            <small class="text-muted">

                        </div>                                <i class="fas fa-user-md"></i> {{ agendamento.profissional.nome }}

                        <div class="stat-number">3</div>                            </small>

                        <div class="stat-label">Pendentes</div>                        </div>

                    </div>                        <div class="col-md-2">

                </div>                            {% if agendamento.status == 'confirmado' %}

                                <span class="status-badge status-confirmado">Confirmado</span>

                <!-- Botões de Ação -->                            {% elif agendamento.status == 'pendente' %}

                <div class="quick-actions" style="margin-bottom: 30px;">                                <span class="status-badge status-pendente">Pendente</span>

                    <a href="/admin/core/agendamento/add/" class="action-btn success">                            {% else %}

                        <i class="fas fa-calendar-plus"></i> Novo Agendamento                                <span class="status-badge status-cancelado">Cancelado</span>

                    </a>                            {% endif %}

                    <a href="/admin/core/agendamento/" class="action-btn purple">                        </div>

                        <i class="fas fa-list"></i> Gerenciar Agenda                    </div>

                    </a>                </div>

                    <a href="#" class="action-btn warning">                {% empty %}

                        <i class="fas fa-print"></i> Imprimir Agenda                <div class="text-center py-5">

                    </a>                    <i class="fas fa-calendar fa-3x text-muted mb-3"></i>

                </div>                    <h4 class="text-muted">Nenhum agendamento esta semana</h4>

                    <p class="text-muted">Os agendamentos da semana aparecerão aqui.</p>

                <!-- Gráfico de Agendamentos -->                </div>

                <div class="info-card" style="margin-bottom: 30px;">                {% endfor %}

                    <h3 class="info-title">            </div>

                        <i class="fas fa-chart-line"></i> Agendamentos da Semana        </div>

                    </h3>    </div>

                    <div class="chart-container"></body>

                        <canvas id="agendamentosChart" width="400" height="200"></canvas></html>

                    </div>
                </div>

                <!-- Agenda do Dia -->
                <div class="info-grid">
                    <div class="info-card">
                        <h3 class="info-title">
                            <i class="fas fa-calendar-day"></i> Agenda de Hoje - 20/10/2025
                        </h3>
                        <div class="agenda-item">
                            <div class="agenda-time">08:00</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Maria Silva</div>
                                <div class="agenda-service">Consulta de Rotina</div>
                                <div class="agenda-status confirmed">Confirmado</div>
                            </div>
                        </div>
                        <div class="agenda-item">
                            <div class="agenda-time">09:30</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">João Santos</div>
                                <div class="agenda-service">Retorno</div>
                                <div class="agenda-status confirmed">Confirmado</div>
                            </div>
                        </div>
                        <div class="agenda-item">
                            <div class="agenda-time">11:00</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Ana Pereira</div>
                                <div class="agenda-service">Exame Preventivo</div>
                                <div class="agenda-status pending">Pendente</div>
                            </div>
                        </div>
                        <div class="agenda-item">
                            <div class="agenda-time">14:00</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Carlos Ferreira</div>
                                <div class="agenda-service">Consulta Especializada</div>
                                <div class="agenda-status confirmed">Confirmado</div>
                            </div>
                        </div>
                        <div class="agenda-item">
                            <div class="agenda-time">15:30</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Luiza Martins</div>
                                <div class="agenda-service">Retorno</div>
                                <div class="agenda-status pending">Pendente</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3 class="info-title">
                            <i class="fas fa-bell"></i> Próximos Agendamentos
                        </h3>
                        <div class="agenda-item">
                            <div class="agenda-time">Amanhã - 09:00</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Roberto Silva</div>
                                <div class="agenda-service">Consulta Inicial</div>
                                <div class="agenda-status confirmed">Confirmado</div>
                            </div>
                        </div>
                        <div class="agenda-item">
                            <div class="agenda-time">Amanhã - 14:30</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Teresa Freitas</div>
                                <div class="agenda-service">Retorno</div>
                                <div class="agenda-status pending">Pendente</div>
                            </div>
                        </div>
                        <div class="agenda-item">
                            <div class="agenda-time">22/10 - 10:00</div>
                            <div class="agenda-info">
                                <div class="agenda-patient">Paulo Mendes</div>
                                <div class="agenda-service">Exame</div>
                                <div class="agenda-status confirmed">Confirmado</div>
                            </div>
                        </div>
                        <div class="text-muted" style="text-align: center; padding: 20px;">
                            <i class="fas fa-calendar-alt"></i> Mantenha sua agenda organizada!
                        </div>
                    </div>
                </div>

                <!-- Ações Rápidas Adicionais -->
                <div class="quick-actions">
                    <a href="#" class="action-btn">
                        <i class="fas fa-search"></i> Buscar Agendamento
                    </a>
                    <a href="#" class="action-btn success">
                        <i class="fas fa-check-circle"></i> Confirmar Consultas
                    </a>
                    <a href="#" class="action-btn warning">
                        <i class="fas fa-chart-bar"></i> Relatório Semanal
                    </a>
                </div>
            </main>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/dashboard_advanced.js' %}"></script>
    
    <script>
        // Gráfico de Agendamentos da Semana
        const ctx = document.getElementById('agendamentosChart').getContext('2d');
        const agendamentosChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                datasets: [{
                    label: 'Agendamentos',
                    data: [8, 12, 6, 10, 8, 4],
                    borderColor: '#8e44ad',
                    backgroundColor: 'rgba(142, 68, 173, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(142, 68, 173, 0.1)'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });
    </script>
    
    <style>
        .agenda-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--pulse-light-gray);
        }
        
        .agenda-item:last-child {
            border-bottom: none;
        }
        
        .agenda-time {
            font-weight: 600;
            color: var(--pulse-primary);
            width: 80px;
            flex-shrink: 0;
        }
        
        .agenda-info {
            flex: 1;
            margin-left: 15px;
        }
        
        .agenda-patient {
            font-weight: 500;
            color: var(--pulse-dark-gray);
            margin-bottom: 2px;
        }
        
        .agenda-service {
            font-size: 14px;
            color: var(--pulse-gray);
            margin-bottom: 5px;
        }
        
        .agenda-status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .agenda-status.confirmed {
            background: var(--pulse-success-light);
            color: var(--pulse-success);
        }
        
        .agenda-status.pending {
            background: var(--pulse-warning-light);
            color: var(--pulse-warning);
        }
        
        .chart-container {
            position: relative;
            height: 200px;
            margin: 20px 0;
        }
    </style>
</body>
</html>